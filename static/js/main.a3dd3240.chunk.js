(this.webpackJsonpena_log=this.webpackJsonpena_log||[]).push([[0],{12:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d}));var a,r=n(10),s=n(13),c=n.n(s),o=n(20),i=n(11),l=n(35),u=n.n(l),m=Object(i.b)("fetchKeys",Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://cors-anywhere.herokuapp.com/https://ctt.pfstr.de/json/filehashes.json");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),d=Object(i.b)("readENALog",function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.abrupt("return",new Promise((function(e,a){n.onerror=function(){n.abort(),a(new DOMException("Error parsing input file."))},n.onload=function(){e(n.result)},n.readAsText(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(i.c)({name:"diagnosisKeys",initialState:{keys:[],status:"uninitialized",enastatus:"uninitialized",exposures:{}},extraReducers:(a={},Object(r.a)(a,m.pending,(function(e,t){e.status="loading"})),Object(r.a)(a,m.fulfilled,(function(e,t){e.status="loaded",e.keys=t.payload})),Object(r.a)(a,m.rejected,(function(e,t){e.status="error"})),Object(r.a)(a,d.pending,(function(e,t){e.enastatus="loading"})),Object(r.a)(a,d.fulfilled,(function(t,n){var a=JSON.parse(n.payload),r="DeviceProductType"in a,s=r?a.ExposureChecks:a;s.map((function(n){if((r?n.MatchCount:n.matchesCount)>0){var a=r?n.Hash.toLowerCase():e.from(n.hash,"base64").toString("hex").toLowerCase();if(!(a in t.exposures)){var s=r?n.RandomIDCount:n.keyCount;t.exposures[a]={date:t.keys[a],keysInFileCount:s,matches:[]}}}})),s.map((function(n){var a=r?n.MatchCount:n.matchesCount,s=r?n.Hash.toLowerCase():e.from(n.hash,"base64").toString("hex").toLowerCase();if(a>0||s in t.exposures){var c=r?n.Timestamp:n.timestamp;t.exposures[s].matches.push({timestamp:c,count:a})}})),t.enastatus="loaded"})),Object(r.a)(a,d.rejected,(function(e,t){e.enastatus="error"})),a)});t.a=p.reducer}).call(this,n(50).Buffer)},33:function(e,t,n){},40:function(e,t,n){e.exports=n(73)},45:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),o=(n(45),n(38)),i=n(22),l=n(21),u=n(14),m=n(15),d=n(37),p=n(9),f=n(12),h=n(39),g=(n(33),function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.diagnosisKeys.status})),n=Object(p.c)((function(e){return e.diagnosisKeys.enastatus})),s=Object(p.c)((function(e){return e.diagnosisKeys.exposures})),c=Object(a.useCallback)((function(t){"uninitialized"===n&&1===t.length&&e(Object(f.c)(t[0]))}),[e,n]),o=Object(h.a)({onDrop:c}),i=o.getRootProps,g=o.getInputProps;Object(a.useEffect)((function(){e(Object(f.b)())}),[e]);var b=[];Object.keys(s).map((function(e){b.push([e,s[e].date])}));var E=b.sort((function(e,t){return e[1]>t[1]?1:-1}));return"loading"===t||"uninitialized"===t?r.a.createElement(u.a,{className:"mainRow"},r.a.createElement(m.a,null,r.a.createElement(l.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Lade Diagnoseschl\xfcssel...")))):"error"===t?r.a.createElement(u.a,{className:"mainRow"},r.a.createElement(m.a,null,r.a.createElement("p",null,"Ein Fehler ist beim Laden der Diagnoseschl\xfcsselinformationen aufgetreten."))):r.a.createElement(u.a,{className:"mainRow"},r.a.createElement(m.a,null,"uninitialized"===n&&r.a.createElement("div",i({className:"dropzone"}),r.a.createElement("input",g()),r.a.createElement("p",null,"Um Begegnungsdateien zu analysieren, klicken oder ziehen.")),"loading"===n&&r.a.createElement(l.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Lade Begegnungslog...")),"loaded"===n&&0===E.length&&r.a.createElement("p",null,"Es sind keine Begegnungen mit positiv getester Person in der Log-Datei gespeichert."),"loaded"===n&&E.length>0&&E.map((function(e){var t=e[0],n=e[1];return r.a.createElement("div",null,r.a.createElement(u.a,{className:"mt-4"},r.a.createElement(m.a,null,"Schl\xfcsseldatei vom ",n," mit ",s[t].keysInFileCount," Schl\xfcsseln:")),r.a.createElement(d.a,{className:"ml-4 mt-2",striped:!0,bordered:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("th",null,"Anzahl Treffer"),r.a.createElement("th",null,"\xdcberpr\xfcfungszeitpunkt")),r.a.createElement("tbody",null,s[t].matches.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.count),r.a.createElement("td",null,e.timestamp))})))))}))))});n(72);var b=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{bg:"light"},r.a.createElement(i.a.Brand,null,"Corona Exposure Notification Log Analysis")),r.a.createElement(g,null))},E=n(11),j=Object(E.a)({reducer:{diagnosisKeys:f.a}});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:j},r.a.createElement(b,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.a3dd3240.chunk.js.map