(this.webpackJsonpena_log=this.webpackJsonpena_log||[]).push([[0],{14:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d}));var a,r=n(10),s=n(15),o=n.n(s),i=n(20),c=n(11),u=n(35),l=n.n(u),m=Object(c.b)("fetchKeys",Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://cors-anywhere.herokuapp.com/https://ctt.pfstr.de/json/filehashes.json");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),d=Object(c.b)("readENALog",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.abrupt("return",new Promise((function(e,a){n.onerror=function(){n.abort(),a(new DOMException("Error parsing input file."))},n.onload=function(){e(n.result)},n.readAsText(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(c.c)({name:"diagnosisKeys",initialState:{keys:[],status:"uninitialized",enastatus:"uninitialized",exposures:{}},extraReducers:(a={},Object(r.a)(a,m.pending,(function(e,t){e.status="loading"})),Object(r.a)(a,m.fulfilled,(function(e,t){e.status="loaded",e.keys=t.payload})),Object(r.a)(a,m.rejected,(function(e,t){e.status="error"})),Object(r.a)(a,d.pending,(function(e,t){e.enastatus="loading"})),Object(r.a)(a,d.fulfilled,(function(t,n){var a=JSON.parse(n.payload),r="DeviceProductType"in a;(r?a.ExposureChecks:a).map((function(n){var a=r?n.MatchCount:n.matchesCount;if(a>0){var s=r?n.Hash.toLowerCase():e.from(n.hash,"base64").toString("hex").toLowerCase(),o=r?n.RandomIDCount:n.keyCount,i=r?n.Timestamp:n.timestamp;s in t.exposures||(t.exposures[s]={date:t.keys[s],keysInFileCount:o,matches:[]}),t.exposures[s].matches.push({timestamp:i,count:a})}})),t.enastatus="loaded"})),Object(r.a)(a,d.rejected,(function(e,t){e.enastatus="error"})),a)});t.a=p.reducer}).call(this,n(49).Buffer)},33:function(e,t,n){},39:function(e,t,n){e.exports=n(72)},44:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),i=(n(44),n(37)),c=n(22),u=n(21),l=n(12),m=n(13),d=n(9),p=n(14),f=n(38),g=(n(33),function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.diagnosisKeys.status})),n=Object(d.c)((function(e){return e.diagnosisKeys.enastatus})),s=Object(d.c)((function(e){return e.diagnosisKeys.exposures})),o=Object(a.useCallback)((function(t){"uninitialized"===n&&1===t.length&&e(Object(p.c)(t[0]))}),[e,n]),i=Object(f.a)({onDrop:o}),c=i.getRootProps,g=i.getInputProps;Object(a.useEffect)((function(){e(Object(p.b)())}),[e]);var h=[];Object.keys(s).map((function(e){h.push([e,s[e].date])}));var b=h.sort((function(e,t){return e[1]>t[1]?1:-1}));return"loading"===t||"uninitialized"===t?r.a.createElement(l.a,{className:"mainRow"},r.a.createElement(m.a,null,r.a.createElement(u.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Lade Diagnoseschl\xfcssel...")))):"error"===t?r.a.createElement(l.a,{className:"mainRow"},r.a.createElement(m.a,null,r.a.createElement("p",null,"Ein Fehler ist beim Laden der Diagnoseschl\xfcsselinformationen aufgetreten."))):r.a.createElement(l.a,{className:"mainRow"},r.a.createElement(m.a,null,"uninitialized"===n&&r.a.createElement("div",c({className:"dropzone"}),r.a.createElement("input",g()),r.a.createElement("p",null,"Um Begegnungsdateien zu analysieren, klicken oder ziehen.")),"loading"===n&&r.a.createElement(u.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Lade Begegnungslog...")),"loaded"===n&&0===b.length&&r.a.createElement("p",null,"Es sind keine Begegnungen mit positiv getester Person in der Log-Datei gespeichert."),"loaded"===n&&b.length>0&&b.map((function(e){var t=e[0],n=e[1];return r.a.createElement("div",null,r.a.createElement(l.a,{className:"mt-4"},r.a.createElement(m.a,null,"Schl\xfcsseldatei vom ",n," mit ",s[t].keysInFileCount," Schl\xfcsseln:")),s[t].matches.map((function(e){return r.a.createElement(l.a,null,r.a.createElement(m.a,{className:"ml-5"},e.count," ",1==e.count?"Begegnung":"Begegnungen"," bei \xdcberpr\xfcfung am ",e.timestamp))})))}))))});n(71);var h=function(){return r.a.createElement(i.a,null,r.a.createElement(c.a,{bg:"light"},r.a.createElement(c.a.Brand,null,"Corona Exposure Notification Log Analysis")),r.a.createElement(g,null))},b=n(11),E=Object(b.a)({reducer:{diagnosisKeys:p.a}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:E},r.a.createElement(h,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.0bea40fc.chunk.js.map